<main class="bg-white">
    <!-- Nav Section -->
    <section class="pb-sm md:py-md px-sm sm:px-lg lg:px-xl ">
        <nav class="flex flex-col text-black">
            <h2 [class.hidden]="!isActivitiesActive" class="activities">Admin Activities</h2>
            <h2 [class.hidden]="isActivitiesActive" class="forms hidden">Admin Forms</h2>
        </nav>
    </section>
    <!-- Content Section -->
    <section class="pb-xs px-sm sm:px-lg lg:px-xl h-screen">
        <div class="flex flex-row gap-sm pb-sm lg:pb-md">
            <button [class.btn-full]="isActivitiesActive" [class.btn-inactive]="!isActivitiesActive" (click)="toggleSection(true)" class="btn-full">Activities</button>
            <button  [class.btn-full]="!isActivitiesActive" [class.btn-inactive]="isActivitiesActive" (click)="toggleSection(false)" class="btn-inactive">Forms</button>
        </div>

        <!-- Activities -->
        <div [class.hidden]="!isActivitiesActive" class="inactive flex flex-col gap-md"> 

            <div *ngFor="let activity of activities" class="dashboard-content flex flex-col gap-sm">
                <!-- template -->
                <div class="flex flex-col md:flex-row text-left md:gap-2xs">
                    <!-- <h3><span>United We Lead</span></h3> for introductory phrase input -->
                    <h3>{{ activity.title }}</h3>  <!-- for title input-->
                </div>
                <article class="flex flex-col md:grid md:grid-cols-[auto_auto] text-left gap-sm md:gap-md">
                    <p class="line-clamp-5">
                        {{ activity.desc1 }}<br>
                        {{ activity.desc2 }}
                    </p>
                    <div class="grid grid-cols-[auto_auto_auto] justify-between md:gap-xs ">
                        <img src="{{ activity.img1 }}" alt="" class="aspect-square h-auto md:max-h-30 object-cover">
                        <img src="{{ activity.img2 }}" alt="" class="aspect-square h-auto md:max-h-30 object-cover">
                        <img src="{{ activity.img3 }}" alt="" class="aspect-square h-auto md:max-h-30 object-cover">
                    </div>
                </article>
                <div class="flex flex-row gap-xs justify-end">
                    <button class="btn-full px-xl">Edit</button>
                    <button class="btn-outlined">Delete</button>
                </div>
            </div>
        </div>

        <!-- Forms -->
<div [class.hidden]="isActivitiesActive" class="grid lg:grid-cols-2 gap-sm">
    <div *ngFor="let form of forms">
        <div class="dashboard-content flex flex-col text-left">
            <!-- Check if this form is being edited -->
            <ng-container *ngIf="editingForm && editingForm._id === form._id; else viewMode">
                <!-- Editable form -->
                <input type="text" [(ngModel)]="editingForm.name" class="input-field" placeholder="Name">
                <input type="email" [(ngModel)]="editingForm.email" class="input-field" placeholder="Email">
                <input type="text" [(ngModel)]="editingForm.contactNum" class="input-field" placeholder="Contact Number">
                <textarea [(ngModel)]="editingForm.message" class="input-field" placeholder="Message"></textarea>
                <div class="flex flex-row gap-xs justify-end">
                    <button class="btn-full px-xl" (click)="saveForm()">Save</button>
                    <button class="btn-outlined" (click)="cancelEdit()">Cancel</button>
                </div>
            </ng-container>

            <!-- View Mode -->
            <ng-template #viewMode>
                <h3><span>{{ form.name }}</span></h3>
                <div class="mini-heading-cont pb-sm">
                    <h4>{{ form.email }}</h4>
                    <img src="images/star-icon.svg" alt="Star Icon">
                    <h4>{{ form.contactNum }}</h4>
                </div>
                <p>{{ form.message }}</p>
                <div class="flex flex-row gap-xs justify-end">
                    <button class="btn-full px-xl" (click)="editForm(form)">Edit</button>
                    <button class="btn-outlined" (click)="deleteForm(form._id)">Delete</button>
                </div>
            </ng-template>
        </div>
    </div>
</div>
        
    </section>
</main>